(()=>{"use strict";function e(e){e.classList.toggle("card__like-button_is-active")}function t(e){e.remove()}function n(e){return e.querySelector(".popup__close").addEventListener("click",n),e.addEventListener("mousedown",(function(e){e.currentTarget===e.target&&n()})),function(){return e.classList.add("popup_is-opened"),document.addEventListener("keyup",t),n};function t(e){"Escape"===e.code&&n()}function n(){e.classList.remove("popup_is-opened"),document.removeEventListener("keyup",t)}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o,c=document.querySelector("#card-template").content.querySelector(".card"),u=document.querySelector(".places__list"),i=document.querySelector(".popup_type_image"),p=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-card"),d=i.querySelector(".popup__caption"),l=i.querySelector(".popup__image"),s=n(i),m=n(p),y=n(a);function _(n){return function(e,t,n){var r=e.cloneNode(!0),o=r.querySelector(".card__title"),c=r.querySelector(".card__image"),u=r.querySelector(".card__delete-button"),i=r.querySelector(".card__like-button");return o.textContent=t.name,c.src=t.link,c.alt=t.name,c.addEventListener("click",(function(){return n.openCard(t)})),u.addEventListener("click",(function(){return n.removeCard(r)})),i.addEventListener("click",(function(){return n.like(i)})),r}(c,n,{removeCard:t,like:e,openCard:f})}function f(e){d.textContent=e.name,l.src=e.link,l.alt=e.name,s()}function v(e,t,n){e.preventDefault(),t(),n instanceof Function&&n()}u.append.apply(u,function(e){if(Array.isArray(e))return r(e)}(o=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].map((function(e){return _(e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),function(){var e,t=document.querySelector(".profile__title"),n=document.querySelector(".profile__description"),r=document.querySelector(".profile__edit-button"),o=p.querySelector(".popup__input_type_name"),c=p.querySelector(".popup__input_type_description");function u(){t.textContent=o.value,n.textContent=c.value}p.querySelector(".popup__form").addEventListener("submit",(function(t){return v(t,u,e)})),r.addEventListener("click",(function(){o.value=t.textContent,c.value=n.textContent,e=m()}))}(),function(){var e,t=document.querySelector(".profile__add-button"),n=a.querySelector("form"),r=a.querySelector(".popup__input_type_card-name"),o=a.querySelector(".popup__input_type_url");function c(){u.prepend(_({name:r.value,link:o.value}))}a.querySelector(".popup__form").addEventListener("submit",(function(t){return v(t,c,e)})),t.addEventListener("click",(function(){n.reset(),e=y()}))}()})();